# ProektnaZadacaVP

ФУНКЦИОНАЛНОСТИ НА АПЛИКАЦИЈАТА
Апликацијата “Весели Шепи“ е наменета за вдомување и огласување на кучиња,истата може да се искористи и за донација на парични средства во стационари.Работи со помош на бази на податоци,каде во табели се веќе вметнати некои податоци за кучиња,корисници на апликацијата,стационари и кроисници-донатори.Весели Шепи се состои од повеќе табови: Дома,Огласи,Донирај,Објави Куче.


КРАТКО УПАТСТВО ЗА КОРИСТЕЊЕ НА АПЛИКАЦИЈАТА
Ако корисникот прв пат ја користи оваа апликација тој без претходно да се најави и регистрира во системот има можност да ги користи само табот “ДОМА“ и “ДОНИРАЈ“.Доколку сака да објави куче или да ги разгледа огласите за вдомување на кучиња тој прво ќе мора да се регистрира во системот,а потоа и да се најави на истиот.После најавата може да ги користи и другите два табови. 


Ако корисникот сака да објави куче кое сака да го подари,со кликнување на “Објави куче“ табот тој има можност да го огласи кучето со успешно пополнуање на сите задолжителни полиња и клик на копчето “Огласи куче“,при што се појавува порака со известување дека кучето е успешно објавено.

                                                  	       
Ако корисникот сака да вдоми објавено куче,треба да го искористи табот “Огласи“, каде според одредени критериуми може да пребарува кучиња. Со упешно пополнување на критериумите и кликнување на копчето “Пребарај“, корисникот добива листа со кучиња кои ги исполниле критериумите кои ги пополнил.Ако корисникот избере некое од кучињата во листата,во посебни делови излегуваат описот и фотографијата на избраното куче.По желба на корисникот,да се промента критериумите за пребарување,треба да се кликни ка копчето “Избриши избор“,со што се празнат сите полиња,заедно со листата и делот со текстот.Доколку корисникот претходно го објавил избраното куче и сака да го отстрани од огласите(на пример доколку кучето е вдомено),со кликнување на копчето “Избриши вдомено куче“,тој успешно би го отстранил огласот. Доколку корисникот сака да го вдоми селектираното куче со кликнување на копчето “Вдоми“ во посебна порака (прозорец) излегуваат информации за контакт на огласувачот на кучето.


Табот донација е последен таб од оваа апликација каде корисникот има можност со или без претходна најава да донира парични средства во некој стационар.Со успешно пополнети полиња и кликнување на копчето “Донирај“ се појавува прозорец со порака за известување на корисникот дека успешно донирал.

Во позадина на апликацијата работи базата со податоци каде конкретно за износот на сумата на секој стационар се прикажува вкупната сума на досега донирани средства.


ОПИС НА РЕШЕНИЕТО НА АПЛИКАЦИЈАТА
Апликацијата е изработена со помош на база на податоци каде податоците се организирани во посебни табели.Секоја функција која треба едно копче,текст поле,фотографија и слично,да ја извршува е напишана посебно.Односно постои функција(кодирана) за секоја функција. Функциите кои се користат најчесто се private void функции.Податоците во кодот не се организирани ниту во класи ниту во структури.Се користат листи,сортирани листи за подобра организација на податоците,некои готови функции како .ToInt32(), .ToString(), .Substring(),за пократок код.Повеќето податоци се од типот стринг, но постојат и други видови на податоци како: int, byte[], object, SqlConnection, SqlCommand, SqlDataReader и слично...
Исто така кодот се состои и од доста error providers, try catch (исклучоци),за да се избегне пад на кодот. За поврзување со базата искористен е јазикот SQL,со некои готови команди како DELETE FROM, SELECT, INSERT и слично.Со помош на queries се воспоставуваат конекцијата со базата,пребарувањето на податоци во неа,селектирањето,внесувањето,бришењето на податоците во неа.


ОПИС НА ЕДНА ОД ФУНКЦИИТЕ КОИ СЕ СОСТАВЕН ДЕЛ НА КОДОТ
Како пример за фукција е земен евентот кој се повикува(креира) при кликнување на копчето “Пребарај куче”.Името на функцијата е: btPrebarajKuce_Click која е функција која не враќа податок односно е функција од типот: void.
Прва задача на функцијата е креирањето на променливи од тип : string, SqlConnection, SqlCommand, SqlDataReader со чија помош се поврзуваме со базата и читаме податоци од неа. Потоа на стрингот за конекција кој е именуван connetionString се додава командата (query) за поврзување со соодветниот сервер и дата база која ни е потребна. На променливата(објектот) од вид SqlConnection и се задава стрингот и се креира конекцијата со командата : con.Open();.
На стрингот sql му се задаваат команди кои треба да се извршат со помош на SqlCommand, а тоа е : Селекција на одредени колони од табелата во базата.
Во исклучокот try се ставаат комбо боксовите од каде се земаат критериумите според кои треба да се пребараат кучињата.Ако се тие празни,односно ако е исполнет условот со throw new Exception се исфрла исклучок и со помош на catch се појавува пораката која го информира корисникот дека полињата не смеат да останат празни.Доколку условот не е исполнет се извршува читањето на податоците од базата.После сместувањето на секој податок од колоната во соодветен дел од низата(arr) се поставуваат условите според кои треба да се сместат податоците извлечени од базата во сортираната листа (sortiranaSlika).Ќе објаснам еден од условите кои 	се запишани.
else if(rk== "Сите" && arr[2].Substring(0, pk.Length) == pk && arr[3].Substring(0, vk.Length) == vk)
                {
                    
                    if (!sortirana.ContainsKey(Convert.ToInt32(arr[0])))
                    {
                        sortirana[Convert.ToInt32(arr[0])] = opis;
                    }
                    if (!sortiranaSlika.ContainsKey(Convert.ToInt32(arr[0])))
                    {
                        sortiranaSlika[Convert.ToInt32(arr[0])] = img;
                    }
                    itm = new ListViewItem(arr);
                    listViewKucinja.Items.Add(itm);
                }
На пример доколку корисникот за полето раса на кучиња има избрано СИТЕ и доколку полот на одредено куче запишано во базата е еднакво на полот на кучето кое е избрано за критериум на пребарување од комбо боксот : pk и доколку возраста на кучето запишано во база е еднаква со онаа избрана во combo box : vk тогаш дадениот услов е исполнет и се извршува кодот кој дава наредба за проверка дали постои клуч во сортираната листа со таков ИД број,ако не постои,условот е исполнет и на тој клуч се додава описот на кучето како вредност.Доколку пак ако во другата сортирана листа каде исто се чува клуч и слика на кучето не постои таков ИД број како клуч,се додава клучот и заедно со него се запишува вредноста(сликата  на кучето) во сортираната листа.После овие команди се креира итемот со помош на низата која претходно ја пополнивме со соодветните податоци од базата и потоа тој итем се додава во : listViewKucinja каде се чуваат кучињата пребарани според тој критериум.На ист начин се запишани и другите услови само со различна комбинација на критериумите.
